2025-07-09 15:45:13,265 - __main__ - INFO - Received request to save page content
2025-07-09 15:45:13,266 - __main__ - INFO - Processing content from URL: https://techcrunch.com/category/artificial-intelligence/
2025-07-09 15:45:13,267 - __main__ - INFO - Split content into 1 chunks
2025-07-09 15:45:14,317 - __main__ - INFO - Successfully saved content to vector database
2025-07-09 15:45:37,332 - __main__ - INFO - Received query request
2025-07-09 15:45:37,338 - __main__ - INFO - Processing query: What is this about?
2025-07-09 15:45:37,366 - __main__ - ERROR - Error processing query: name 'load_qa_chain' is not defined
Traceback (most recent call last):
  File "/Users/apoorvabhishek/Documents/ai-tutorials/rag-chrome-extension/backend/main.py", line 156, in query_pages
    return jsonify({"error": "No documents found in the knowledge base."}), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apoorvabhishek/Documents/ai-tutorials/rag-chrome-extension/backend/main.py", line 77, in get_conversational_chain
    # )
        
NameError: name 'load_qa_chain' is not defined
2025-07-09 15:55:33,862 - __main__ - INFO - Received query request
2025-07-09 15:55:33,864 - __main__ - INFO - Processing query: What is this about?
2025-07-09 15:55:36,201 - __main__ - INFO - Successfully processed query
2025-07-09 15:56:32,439 - __main__ - INFO - Received request to save page content
2025-07-09 15:56:32,440 - __main__ - INFO - Processing content from URL: https://techcrunch.com/2025/07/08/in-a-blow-to-google-cloud-replit-partners-with-microsoft/
2025-07-09 15:56:32,441 - __main__ - INFO - Split content into 1 chunks
2025-07-09 15:56:32,918 - __main__ - INFO - Successfully saved content to vector database
2025-07-09 15:56:46,654 - __main__ - INFO - Received query request
2025-07-09 15:56:46,654 - __main__ - INFO - Processing query: what was the document about langchain?
2025-07-09 15:56:49,400 - __main__ - INFO - Successfully processed query
2025-07-09 16:01:29,904 - __main__ - INFO - Successfully connected to MongoDB
2025-07-09 16:01:42,556 - __main__ - INFO - Received request to save page content
2025-07-09 16:01:42,557 - __main__ - INFO - Processing content from URL: https://techcrunch.com/2025/07/08/in-a-blow-to-google-cloud-replit-partners-with-microsoft/
2025-07-09 16:01:42,608 - __main__ - INFO - Page metadata saved to MongoDB: {'title': 'https://techcrunch.com/2025/07/08/in-a-blow-to-google-cloud-replit-partners-with-microsoft/', 'url': 'https://techcrunch.com/2025/07/08/in-a-blow-to-google-cloud-replit-partners-with-microsoft/', 'date': datetime.datetime(2025, 7, 9, 16, 1, 42, 557332), '_id': ObjectId('686e450edce7bf700c052eac')}
2025-07-09 16:01:42,609 - __main__ - INFO - Split content into 1 chunks
2025-07-09 16:01:43,800 - __main__ - INFO - Successfully saved content to vector database
2025-07-09 16:08:18,072 - __main__ - INFO - Successfully connected to MongoDB
2025-07-09 16:25:25,943 - __main__ - INFO - Successfully connected to MongoDB
2025-07-09 16:25:34,316 - __main__ - INFO - Received query request
2025-07-09 16:25:34,317 - __main__ - INFO - Processing query: what was the document about langchain?
2025-07-09 16:25:34,331 - __main__ - ERROR - Error processing query: 'Input to PromptTemplate is missing variables {"\'start_date\'"}.  Expected: ["\'start_date\'", \'query\', \'today_date\'] Received: [\'query\', \'today_date\']\nNote: if you intended {\'start_date\'} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\'start_date\'}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
Traceback (most recent call last):
  File "/Users/apoorvabhishek/Documents/ai-tutorials/rag-chrome-extension/backend/main.py", line 213, in query_pages
    start_date, end_date = parse_date_query(question)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apoorvabhishek/Documents/ai-tutorials/rag-chrome-extension/backend/main.py", line 52, in parse_date_query
    response = chain.invoke({"query": query, "today_date": datetime.now().strftime('%Y-%m-%d')})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apoorvabhishek/Library/Python/3.11/lib/python/site-packages/langchain_core/runnables/base.py", line 3045, in invoke
    input_ = context.run(step.invoke, input_, config, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apoorvabhishek/Library/Python/3.11/lib/python/site-packages/langchain_core/prompts/base.py", line 216, in invoke
    return self._call_with_config(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apoorvabhishek/Library/Python/3.11/lib/python/site-packages/langchain_core/runnables/base.py", line 1940, in _call_with_config
    context.run(
  File "/Users/apoorvabhishek/Library/Python/3.11/lib/python/site-packages/langchain_core/runnables/config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apoorvabhishek/Library/Python/3.11/lib/python/site-packages/langchain_core/prompts/base.py", line 189, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apoorvabhishek/Library/Python/3.11/lib/python/site-packages/langchain_core/prompts/base.py", line 183, in _validate_input
    raise KeyError(
KeyError: 'Input to PromptTemplate is missing variables {"\'start_date\'"}.  Expected: ["\'start_date\'", \'query\', \'today_date\'] Received: [\'query\', \'today_date\']\nNote: if you intended {\'start_date\'} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\'start_date\'}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-09 16:29:39,541 - __main__ - INFO - Successfully connected to MongoDB
2025-07-09 16:29:54,344 - __main__ - INFO - Successfully connected to MongoDB
2025-07-09 16:30:05,787 - __main__ - INFO - Received request to save page content
2025-07-09 16:30:05,789 - __main__ - INFO - Processing content from URL: https://techcrunch.com/2025/07/08/in-a-blow-to-google-cloud-replit-partners-with-microsoft/
2025-07-09 16:30:05,792 - __main__ - INFO - Page metadata saved to MongoDB: {'title': 'https://techcrunch.com/2025/07/08/in-a-blow-to-google-cloud-replit-partners-with-microsoft/', 'url': 'https://techcrunch.com/2025/07/08/in-a-blow-to-google-cloud-replit-partners-with-microsoft/', 'date': datetime.datetime(2025, 7, 9, 16, 30, 5, 789537), '_id': ObjectId('686e4bb55e3b8a2ec68e7f74')}
2025-07-09 16:30:05,793 - __main__ - INFO - Split content into 1 chunks
2025-07-09 16:30:06,765 - __main__ - INFO - Successfully saved content to vector database
2025-07-09 16:30:15,031 - __main__ - INFO - Received query request
2025-07-09 16:30:15,031 - __main__ - INFO - Processing query: what was the document about langchain?
2025-07-09 16:30:15,041 - __main__ - ERROR - Error processing query: 'Input to PromptTemplate is missing variables {"\'start_date\'"}.  Expected: ["\'start_date\'", \'query\', \'today_date\'] Received: [\'query\', \'today_date\']\nNote: if you intended {\'start_date\'} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\'start_date\'}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
Traceback (most recent call last):
  File "/Users/apoorvabhishek/Documents/ai-tutorials/rag-chrome-extension/backend/main.py", line 282, in query_pages
    start_date, end_date = parse_date_query(question)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apoorvabhishek/Documents/ai-tutorials/rag-chrome-extension/backend/main.py", line 65, in parse_date_query
    response = chain.invoke({"query": query, "today_date": datetime.now().strftime('%Y-%m-%d')})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apoorvabhishek/Library/Python/3.11/lib/python/site-packages/langchain_core/runnables/base.py", line 3045, in invoke
    input_ = context.run(step.invoke, input_, config, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apoorvabhishek/Library/Python/3.11/lib/python/site-packages/langchain_core/prompts/base.py", line 216, in invoke
    return self._call_with_config(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apoorvabhishek/Library/Python/3.11/lib/python/site-packages/langchain_core/runnables/base.py", line 1940, in _call_with_config
    context.run(
  File "/Users/apoorvabhishek/Library/Python/3.11/lib/python/site-packages/langchain_core/runnables/config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apoorvabhishek/Library/Python/3.11/lib/python/site-packages/langchain_core/prompts/base.py", line 189, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apoorvabhishek/Library/Python/3.11/lib/python/site-packages/langchain_core/prompts/base.py", line 183, in _validate_input
    raise KeyError(
KeyError: 'Input to PromptTemplate is missing variables {"\'start_date\'"}.  Expected: ["\'start_date\'", \'query\', \'today_date\'] Received: [\'query\', \'today_date\']\nNote: if you intended {\'start_date\'} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\'start_date\'}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-09 16:31:38,470 - __main__ - INFO - Successfully connected to MongoDB
